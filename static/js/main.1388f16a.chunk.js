(this["webpackJsonpprediction-markets-ui"]=this["webpackJsonpprediction-markets-ui"]||[]).push([[0],{162:function(e,t,n){},163:function(e,t){},166:function(e,t){},189:function(e,t){},190:function(e,t){},228:function(e,t){},229:function(e,t){},242:function(e,t){},244:function(e,t){},259:function(e,t){},264:function(e,t,n){},288:function(e,t,n){"use strict";n.r(t);var r=n(2),c=n.n(r),a=n(36),s=n.n(a),o=(n(162),n(3)),i=n.n(o),u=n(8),l=n(12),d=(n(13),n(19));n(29);new Intl.NumberFormat(void 0,{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2});var f={};function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=localStorage.getItem(e)||t,c=Object(r.useState)(e+"\n"+n),a=Object(l.a)(c,2),s=a[1];Object(r.useEffect)((function(){return f[e]||(f[e]=[]),f[e].push(s),function(){f[e]=f[e].filter((function(e){return e!==s})),0===f[e].length&&delete f[e]}}),[e]);var o=Object(r.useCallback)((function(t){n!==t&&(null===t?localStorage.removeItem(e):localStorage.setItem(e,t),f[e].forEach((function(n){return n(e+"\n"+t)})))}),[n,e]);return[n,o]}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=b(e,JSON.stringify(t)),c=Object(l.a)(n,2),a=c[0],s=c[1];return[Object(r.useMemo)((function(){return a&&JSON.parse(a)}),[a]),function(e){return s(JSON.stringify(e))}]}var j=n(20),h=n(18),m=n(16),v=n(9),O=n.n(v),x=new Date,y=new Map,g=function(){function e(t,n,r){var c=this;Object(m.a)(this,e),this.cacheKey=void 0,this.fn=void 0,this.timeoutId=void 0,this.listeners=void 0,this.errors=void 0,this.cacheNullValues=!0,this.refresh=Object(u.a)(i.a.mark((function e(){var t,n,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.timeoutId&&(clearTimeout(c.timeoutId),c.timeoutId=null),!c.stopped){e.next=3;break}return e.abrupt("return");case 3:return t=!1,e.prev=4,e.next=7,c.fn();case 7:if(n=e.sent,c.cacheNullValues||null!==n){e.next=14;break}return console.log("Not caching null value for ".concat(c.cacheKey)),c.errors=0,e.abrupt("return",n);case 14:return y.set(c.cacheKey,n),c.errors=0,c.notifyListeners(),e.abrupt("return",n);case 18:e.next=25;break;case 20:e.prev=20,e.t0=e.catch(4),++c.errors,console.warn(e.t0),t=!0;case 25:return e.prev=25,c.timeoutId||c.stopped||(r=c.refreshInterval,t&&c.refreshIntervalOnError&&c.refreshIntervalOnError>0&&(r=c.refreshIntervalOnError),c.errors>0&&(r=Math.min(1e3*Math.pow(2,c.errors-1),6e4)),(a=+new Date-+x)<5e3&&(r+=5e3-a/2),"hidden"===document.visibilityState?r=6e4:document.hasFocus()||(r*=1.5),r*=.8+.4*Math.random(),c.timeoutId=setTimeout(c.refresh,r)),e.finish(25);case 28:case"end":return e.stop()}}),e,null,[[4,20,25,28]])}))),this.cacheKey=t,this.fn=n,this.timeoutId=null,this.listeners=new Set,this.errors=0,this.cacheNullValues=r}return Object(h.a)(e,[{key:"refreshInterval",get:function(){return Math.min.apply(Math,Object(j.a)(Object(j.a)(this.listeners).map((function(e){return e.refreshInterval}))))}},{key:"refreshIntervalOnError",get:function(){var e=Object(j.a)(this.listeners).map((function(e){return e.refreshIntervalOnError})).filter((function(e){return null!==e}));return 0===e.length?null:Math.min.apply(Math,Object(j.a)(e))}},{key:"stopped",get:function(){return 0===this.listeners.size}},{key:"addListener",value:function(e){var t=this.refreshInterval;this.listeners.add(e),this.refreshInterval<t&&this.refresh()}},{key:"removeListener",value:function(e){O()(this.listeners.delete(e)),this.stopped&&this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}},{key:"notifyListeners",value:function(){this.listeners.forEach((function(e){return e.callback()}))}}]),e}();new(function(){function e(){Object(m.a)(this,e),this.loops=new Map}return Object(h.a)(e,[{key:"addListener",value:function(e){this.loops.has(e.cacheKey)||this.loops.set(e.cacheKey,new g(e.cacheKey,e.fn,e.cacheNullValues)),this.loops.get(e.cacheKey).addListener(e)}},{key:"removeListener",value:function(e){var t=this.loops.get(e.cacheKey);t.removeListener(e),t.stopped&&(this.loops.delete(e.cacheKey),y.delete(e.cacheKey))}},{key:"refresh",value:function(e){this.loops.has(e)&&this.loops.get(e).refresh()}},{key:"refreshAll",value:function(){return Promise.all(Object(j.a)(this.loops.values()).map((function(e){return e.refresh()})))}}]),e}());n(150);var w=n(7),k=[{name:"devnet",endpoint:"https://devnet.solana.com",custom:!1},{name:"mainnet-beta",endpoint:"https://solana-api.projectserum.com",custom:!1},{name:"localnet",endpoint:"http://127.0.0.1:8899",custom:!1}],N=(new Map,c.a.createContext(null));function S(e){var t=e.children,n=p("connectionEndpts",k[0].endpoint),c=Object(l.a)(n,2),a=c[0],s=c[1],o=p("customConnectionEndpoints",[]),i=Object(l.a)(o,2),u=i[0],f=i[1],b=k.concat(u),j=Object(r.useMemo)((function(){return new d.b(a,"recent")}),[a]),h=Object(r.useMemo)((function(){return new d.b(a,"recent")}),[a]);return Object(r.useEffect)((function(){var e=j.onAccountChange((new d.a).publicKey,(function(){}));return function(){j.removeAccountChangeListener(e)}}),[j]),Object(r.useEffect)((function(){var e=j.onSlotChange((function(){return null}));return function(){j.removeSlotChangeListener(e)}}),[j]),Object(r.useEffect)((function(){var e=h.onAccountChange((new d.a).publicKey,(function(){}));return function(){h.removeAccountChangeListener(e)}}),[h]),Object(r.useEffect)((function(){var e=h.onSlotChange((function(){return null}));return function(){h.removeSlotChangeListener(e)}}),[h]),Object(w.jsx)(N.Provider,{value:{endpoint:a,setEndpoint:s,connection:j,sendConnection:h,availableEndpoints:b,setCustomEndpoints:f},children:t})}function E(){var e=Object(r.useContext)(N);if(!e)throw new Error("Missing connection context");return e.connection}function C(){var e=Object(r.useContext)(N);if(!e)throw new Error("Missing connection context");return{endpoint:e.endpoint,endpointInfo:e.availableEndpoints.find((function(t){return t.endpoint===e.endpoint})),setEndpoint:e.setEndpoint,availableEndpoints:e.availableEndpoints,setCustomEndpoints:e.setCustomEndpoints}}var M=n(151),I=n(81),K=n.n(I),L={background:"#0E1717",text:"#FFFFFF"};function _(e){var t=e.message,n=e.description,r=(e.txid,e.type),c=void 0===r?"custom":r;e.placement;I.notify.show(Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{children:t}),Object(w.jsx)("div",{children:n})]}),c,3e3,"custom"===c?L:null)}var A=n(31),T=n(32),D=n(38),F=n(51),P=n(53),B=n(50),V=n.n(B),U=new d.c("11111111111111111111111111111111"),W=function(e){Object(F.a)(n,e);var t=Object(P.a)(n);function n(){var e;return Object(m.a)(this,n),(e=t.call(this))._publicKey=void 0,e._onProcess=void 0,e._connected=void 0,e._onProcess=!1,e._connected=!1,e.connect=e.connect.bind(Object(D.a)(e)),e}return Object(h.a)(n,[{key:"connected",get:function(){return this._connected}},{key:"autoApprove",get:function(){return!1}},{key:"signAllTransactions",value:function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._provider){e.next=2;break}return e.abrupt("return",t);case 2:return e.abrupt("return",this._provider.signAllTransactions(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_provider",get:function(){var e,t;if(null===(e=window)||void 0===e||null===(t=e.solana)||void 0===t?void 0:t.isMathWallet)return window.solana}},{key:"publicKey",get:function(){return this._publicKey||U}},{key:"signTransaction",value:function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._provider){e.next=2;break}return e.abrupt("return",t);case 2:return e.abrupt("return",this._provider.signTransaction(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"connect",value:function(){var e=this;if(!this._onProcess){if(!this._provider)return window.open("https://mathwallet.org/","_blank"),void _({type:"error",message:"Math Wallet Error",description:"Please install mathwallet"});this._onProcess=!0,this._provider.getAccount().then((function(t){e._publicKey=new d.c(t),e._connected=!0,e.emit("connect",e._publicKey)})).catch((function(){e.disconnect()})).finally((function(){e._onProcess=!1}))}}},{key:"disconnect",value:function(){this._publicKey&&(this._publicKey=void 0,this._connected=!1,this.emit("disconnect"))}}]),n}(V.a),J="https://cdn.jsdelivr.net/gh/solana-labs/oyster@main/assets/wallets",R=[{name:"sollet.io",url:"https://www.sollet.io",icon:"".concat(J,"/sollet.svg")},{name:"MathWallet",url:"https://www.mathwallet.org",icon:"".concat(J,"/mathwallet.svg"),adapter:W}],H=c.a.createContext(null);function Z(e){var t,n,c=e.children,a=C().endpoint,s=Object(r.useState)(!1),o=Object(l.a)(s,2),i=o[0],u=o[1],d=p("walletProvider"),f=Object(l.a)(d,2),b=f[0],j=f[1],h=Object(r.useMemo)((function(){return R.find((function(e){return e.url===b}))}),[b]),m=Object(r.useState)(void 0),v=Object(l.a)(m,2),O=v[0],x=v[1];Object(r.useEffect)((function(){if(h){var e=function(){O=new(h.adapter||M.a)(b,a),x(O)};if("complete"!==document.readyState){var t=function t(){e(),window.removeEventListener("load",t)};return window.addEventListener("load",t),function(){return window.removeEventListener("load",t)}}e()}}),[h,b,a]);var y=Object(r.useState)(!1),g=Object(l.a)(y,2),k=g[0],N=g[1];Object(r.useEffect)((function(){return O&&(O.on("connect",(function(){var e;if(null===(e=O)||void 0===e?void 0:e.publicKey){console.log("connected"),localStorage.removeItem("feeDiscountKey"),N(!0);var t=O.publicKey.toBase58();_({type:"success",message:"Wallet update",description:"Connected to wallet "+(t.length>20?"".concat(t.substring(0,7),".....").concat(t.substring(t.length-7,t.length)):t)})}})),O.on("disconnect",(function(){N(!1),_({type:"success",message:"Wallet update",description:"Disconnected from wallet"}),localStorage.removeItem("feeDiscountKey")}))),function(){N(!1),O&&O.connected&&(O.disconnect(),N(!1))}}),[O]),Object(r.useEffect)((function(){return O&&i&&(O.connect(),u(!1)),function(){}}),[O,i]);var S=Object(r.useState)(!1),E=Object(l.a)(S,2),I=E[0],K=E[1],L=Object(r.useCallback)((function(){return K(!0)}),[]),D=Object(r.useCallback)((function(){return K(!1)}),[]);return Object(w.jsxs)(H.Provider,{value:{wallet:O,connected:k,select:L,providerUrl:b,setProviderUrl:j,providerName:null!==(t=null===(n=R.find((function(e){return e.url===b})))||void 0===n?void 0:n.name)&&void 0!==t?t:b},children:[c,Object(w.jsx)("div",{onClick:D,className:"flex justify-center items-center absolute top-0 left-0 w-full h-full bg-opposite bg-opacity-80 ".concat(I||"hidden"),children:Object(w.jsxs)("div",{className:"relative py-6 px-5 bg-depth-1 dark:bg-default shadow-xl rounded-xl max-w-sm w-full",children:[Object(w.jsx)("div",{className:"absolute top-2 right-3",children:Object(w.jsx)(A.a,{className:"cursor-pointer text-md",icon:T.e})}),Object(w.jsx)("h2",{className:"mb-5",children:"Choose a Provider"}),R.map((function(e){return Object(w.jsxs)("div",{className:"p-2 rounded-md hover:bg-depth-2 flex items-center w-full cursor-pointer",onClick:function(){j(e.url),u(!0),D()},children:[Object(w.jsx)("img",{alt:"".concat(e.name),className:"mr-4",width:20,height:20,src:e.icon}),Object(w.jsx)("div",{children:e.name})]},e.name)}))]})})]})}function q(){var e=Object(r.useContext)(H);if(!e)throw new Error("Missing wallet context");var t=e.wallet;return{connected:e.connected,wallet:t,providerUrl:e.providerUrl,setProvider:e.setProviderUrl,providerName:e.providerName,select:e.select,connect:function(){t?t.connect():e.select()},disconnect:function(){null===t||void 0===t||t.disconnect()}}}var z=function(e){return"dark"===localStorage.theme||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"},G=Object(r.createContext)(),Q=function(e){var t=e.initialTheme,n=e.children,c=Object(r.useState)(z),a=Object(l.a)(c,2),s=a[0],o=a[1],i=function(e){var t=window.document.documentElement,n="dark"===e;t.classList.remove(n?"light":"dark"),t.classList.add(e),localStorage.setItem("color-theme",e)};return t&&i(t),Object(r.useEffect)((function(e){i(s)}),[s]),Object(w.jsx)(G.Provider,{value:{theme:s,setTheme:o},children:n})},X=n(45);function Y(){var e,t=Object(r.useState)(0),n=Object(l.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)(!1),o=Object(l.a)(s,2),i=o[0],u=o[1],d=q(),f=d.connected,b=d.wallet,p=(d.select,d.connect),j=d.disconnect,h=(f&&(null===b||void 0===b||null===(e=b.publicKey)||void 0===e||e.toBase58()),E()),m=C(),v=(m.endpoint,m.endpointInfo);Object(r.useEffect)((function(){if(f){u(!0);var e=null===b||void 0===b?void 0:b.publicKey;h.getBalance(e).then((function(e){var t=Math.round(e/Math.pow(10,6))/1e3;a(t)})).finally((function(){return u(!1)}))}else a(0)}),[f]);return Object(w.jsxs)("div",{className:"flex items-center",children:[f&&Object(w.jsx)("div",{className:"flex items-center",children:i?Object(w.jsx)(A.a,{spin:!0,icon:T.d}):Object(w.jsxs)("div",{className:"flex items-center mx-2",children:[Object(w.jsx)("span",{children:c}),Object(w.jsx)("span",{className:"ml-1 text-primary font-bold",children:"SOL"})]})}),Object(w.jsx)("div",{className:"mx-2 uppercase text-secondary font-bold",children:null===v||void 0===v?void 0:v.name}),Object(w.jsxs)("button",{className:"px-2 py-1 border border-primary rounded text-primary hover:border-opposite hover:text-default",onClick:f?j:p,children:[f?"Disconnect":"Connect",Object(w.jsx)(A.a,{className:"ml-2",icon:T.b})]})]})}var $=function(){return Object(w.jsx)("nav",{className:"flex bg-depth-1 justify-center",children:Object(w.jsxs)("div",{className:"h-12 container flex items-center justify-between w-full px-2",children:[Object(w.jsx)("div",{className:"font-bold text-md",children:Object(w.jsxs)(X.b,{to:"/",children:[" ",Object(w.jsx)("span",{className:"text-primary",children:"BET"}),"x "]})}),Object(w.jsx)("div",{children:Object(w.jsx)(Y,{})})]})})},ee=n(40),te=n(82),ne=function(e){var t=e.market,n=t.id,c=t.title,a=t.outcomes,s=Object(r.useState)(!0),o=Object(l.a)(s,2),f=o[0],b=o[1],p=Object(r.useState)(0),j=Object(l.a)(p,2),h=j[0],m=j[1],v=Object(r.useState)(null),O=Object(l.a)(v,2),x=(O[0],O[1]);return Object(r.useEffect)((function(){Object(u.a)(i.a.mark((function e(){var t,n,r,c,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new d.b("https://api.mainnet-beta.solana.com"),n=new d.c("HWHvQhFmJB3NUcu1aihKmrKegfVxBEHzwVX6yZCKEsi1"),r=new d.c("9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"),e.next=5,te.Market.load(t,n,{},r);case 5:return c=e.sent,x(c),e.next=9,c.loadBids(t);case 9:return e.sent,e.next=12,c.loadAsks(t);case 12:a=e.sent,s=a.getL2(1),m(s?s[0][0]:null),b(!1);case 16:case"end":return e.stop()}}),e)})))()}),[]),Object(w.jsx)(X.b,{to:"/market/".concat(n),children:Object(w.jsxs)("div",{className:"rounded bg-depth-1 p-2 shadow-sm hover:bg-depth-2 transition-color duration-100 ease-in",children:[Object(w.jsx)("div",{className:"font-bold text-md mb-4",children:c}),f?Object(w.jsx)("div",{className:"bg-depth-2 w-full h-8 rounded skeleton"}):Object(w.jsx)("div",{children:Object(w.jsxs)("div",{className:"flex items-center justify-between",children:[Object(w.jsx)("div",{children:a[0].name}),Object(w.jsxs)("div",{className:"bg-opacity-70 rounded bg-primary text-opposite font-bold px-2 py-1",children:[h," ",Object(w.jsx)("span",{className:"text-default",children:"SOL"})]})]})})]})})},re=function(e){var t=e.filters,n=e.handler,r=e.currentFilters,c=function(e,t){return"".concat(!r.includes(e)||"text-primary"," py-2 px-3 border-depth-2 hover:bg-depth-2 ").concat(t?"border-l":"")};return Object(w.jsx)("div",{className:"flex justify-center cursor-pointer bg-depth-1 rounded overflow-hidden",children:t.map((function(e,t){return Object(w.jsx)("div",{className:c(e,t),onClick:function(t){return function(e){n(e)}(e)},children:e},e)}))})},ce=(n(264),"ADD_MARKETS_AND_FILTERS"),ae="ADD_MARKET",se=n(155),oe=n.n(se),ie=function(){function e(){Object(m.a)(this,e)}return Object(h.a)(e,null,[{key:"marketDTOtoOutcomesArray",value:function(e){return[{name:e.outcome1Name.toUpperCase(),address:e.outcome1Address},{name:e.outcome2Name.toUpperCase(),address:e.outcome2Address}]}}]),e}(),ue=function(){function e(){Object(m.a)(this,e)}return Object(h.a)(e,null,[{key:"marketsDTOtoMarketsArray",value:function(e){var t=this;return e.map((function(e){return t.marketDTOtoMarket(e)}))}},{key:"marketDTOtoMarket",value:function(e){return{title:e.title,id:e.id,type:e.type,category:e.category,address:e.marketAddress,outcomes:ie.marketDTOtoOutcomesArray(e)}}}]),e}(),le=oe.a.create({baseURL:"https://api.sheety.co/e045915699c6339af73ba9c1a52fccd8/betx"}),de=function(e){return function(){var t=Object(u.a)(i.a.mark((function t(n,r){var c,a,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,le.get("/markets/".concat(e));case 3:a=t.sent,s=a.data,c=ue.marketDTOtoMarket(s.market),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),c=null;case 11:n({type:ae,payload:c});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,n){return t.apply(this,arguments)}}()},fe=function(){var e=Object(ee.b)(),t=Object(r.useState)(!0),n=Object(l.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)([]),o=Object(l.a)(s,2),d=o[0],f=o[1],b=Object(ee.c)((function(e){return e.markets})),p=b.markets,h=b.filters;Object(r.useEffect)((function(){e(function(){var e=Object(u.a)(i.a.mark((function e(t,n){var r,c,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,le.get("/markets");case 3:a=e.sent,s=a.data,r=ue.marketsDTOtoMarketsArray(s.markets),c=r.map((function(e){return e.category})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),r=[],c=[];case 13:t({type:ce,payload:{markets:r,filters:c.filter((function(e,t){return c.indexOf(e)===t}))}});case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}()).finally((function(){return a(!1)}))}),[]);var m;return c?Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{className:"my-5 flex justify-center",children:Object(w.jsx)("div",{className:"w-60 bg-depth-1 h-10 rounded skeleton"})}),Object(w.jsx)("div",{className:"w-full flex items-center justify-center",children:Object(w.jsx)("div",{className:"w-full grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-5",children:(m=5,Object(j.a)(Array(m)).map((function(e,t){return Object(w.jsx)("div",{className:"w-full bg-depth-1 h-24 rounded skeleton"},"skeleton".concat(t))})))})})]}):Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{className:"my-5 flex justify-center",children:Object(w.jsx)(re,{filters:h,handler:function(e){d.includes(e)?f(d.filter((function(t){return t!==e}))):f([].concat(Object(j.a)(d),[e]))},currentFilters:d})}),Object(w.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-5",children:p.filter((function(e){return!d.length||d.includes(e.category)})).map((function(e){return Object(w.jsx)("div",{className:"item-fadeIn",children:Object(w.jsx)(ne,{market:e})},e.id)}))})]})},be=n(21),pe=n(111),je=n(14),he=function(e){return"rgb(".concat(e,")")},me={colors:{primary:he("var(--color-primary)"),primary25:he("var(--color-primary-depth-1)")}},ve={control:function(e,t){return{borderRadius:15,cursor:"pointer",display:"flex","&:hover":{backgroundColor:he("var(--color-bg-depth-2)")}}},menu:function(e){return Object(je.a)(Object(je.a)({},e),{},{backgroundColor:he("var(--color-bg-depth-1)"),borderRadius:15,overflow:"hidden",padding:0})},option:function(e,t){return Object(je.a)(Object(je.a)({},e),{},{color:t.isSelected||t.isFocused?"black":he("var(--color-text-default)"),cursor:"pointer"})}};var Oe=function(e){var t=e.serumMarkets,n=e.market,c=Object(r.useState)(null),a=Object(l.a)(c,2),s=a[0],o=a[1],f=Object(r.useState)(null),b=Object(l.a)(f,2),p=b[0],j=b[1],h=(q().connected,Object(r.useState)(0)),m=Object(l.a)(h,2),v=m[0],O=m[1],x=Object(r.useState)([]),y=Object(l.a)(x,2),g=y[0],k=y[1],N=function(e){var t=E(),n=q(),c=(n.connected,n.wallet,n.select,n.connect,n.disconnect,Object(r.useState)(null)),a=Object(l.a)(c,2),s=a[0],o=a[1],f=Object(r.useState)([]),b=Object(l.a)(f,2),p=b[0],j=b[1],h=Object(r.useState)([]),m=Object(l.a)(h,2),v=m[0],O=m[1],x=Object(r.useState)(0),y=Object(l.a)(x,2),g=y[0],w=y[1],k=Object(r.useState)(0),N=Object(l.a)(k,2),S=N[0],C=N[1],M=function(){var e=Object(u.a)(i.a.mark((function e(){var n,r,c,a=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>0&&void 0!==a[0]?a[0]:1e10,e.next=3,null===s||void 0===s?void 0:s.loadAsks(t);case 3:if(e.t1=n=e.sent,e.t0=null===e.t1,e.t0){e.next=7;break}e.t0=void 0===n;case 7:if(!e.t0){e.next=11;break}e.t2=void 0,e.next=12;break;case 11:e.t2=n.getL2(r);case 12:return c=e.t2,e.abrupt("return",c||[]);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(u.a)(i.a.mark((function e(){var n,r,c,a=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>0&&void 0!==a[0]?a[0]:1e10,e.next=3,null===s||void 0===s?void 0:s.loadBids(t);case 3:if(e.t1=n=e.sent,e.t0=null===e.t1,e.t0){e.next=7;break}e.t0=void 0===n;case 7:if(!e.t0){e.next=11;break}e.t2=void 0,e.next=12;break;case 11:e.t2=n.getL2(r);case 12:return c=e.t2,e.abrupt("return",c||[]);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("asks"!==t){e.next=10;break}return e.next=4,M();case 4:if(e.t1=e.sent,e.t1){e.next=7;break}e.t1=[];case 7:e.t0=e.t1,e.next=16;break;case 10:return e.next=12,I();case 12:if(e.t2=e.sent,e.t2){e.next=15;break}e.t2=[];case 15:e.t0=e.t2;case 16:return n=e.t0,e.abrupt("return",null===n||void 0===n?void 0:n.map((function(e){var t=Object(l.a)(e,2);return t[0],t[1]})).reduce((function(e,t){return e+t}),0));case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){e&&function(){var n=Object(u.a)(i.a.mark((function n(){var r,c;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=new d.c("DESVgJVGajEgKGXhb6XmqDHGz3VjdgP7rEVESBgxmroY"),n.next=3,te.Market.load(t,e,{},r);case 3:return c=n.sent,s||o(c),console.log(s),n.t0=j,n.next=10,M();case 10:return n.t1=n.sent,(0,n.t0)(n.t1),n.t2=O,n.next=15,I();case 15:return n.t3=n.sent,(0,n.t2)(n.t3),n.t4=C,n.next=20,K("asks");case 20:return n.t5=n.sent,(0,n.t4)(n.t5),n.t6=w,n.next=25,K("bids");case 25:n.t7=n.sent,(0,n.t6)(n.t7);case 27:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()()}),[s]),[s,p,v,g,S,function(e){for(var t=[],n=0;n<p.length&&e>0;){var r=Object(l.a)(p[n],2),c=(r[0],r[1]);t.push(p[n]),e-=c,++n}return t}]}(t[0]),S=Object(l.a)(N,6),C=S[0],M=(S[1],S[2],S[3],S[4]),I=S[5];Object(r.useEffect)((function(){n&&C&&k([{label:"SOL",value:C.baseMintAddress.toString()},{label:n.outcomes[0].name,value:C.quoteMintAddress.toString()},{label:n.outcomes[1].name,value:C.quoteMintAddress}])}),[n,C]);var K=function(e,t){t(e)},L=function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=I(v),console.log(t);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(w.jsx)("div",{className:"w-full relative max-w-md",children:Object(w.jsxs)("div",{className:"relative w-full max-w-md p-4 shadow bg-depth-1 rounded-xl",children:[Object(w.jsx)("h1",{className:"px-4 text-center font-bold text-lg mb-4",children:n.title}),Object(w.jsxs)("div",{className:"rounded-2xl border border-depth-2 py-4 px-6 flex justify-between items-end",children:[Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{className:"text-depth-1 uppercase text-sm mb-2",children:"swap"}),Object(w.jsx)("input",{min:"0",onChange:function(e){var t=e.target.value;return O(parseFloat(t))},value:v,autoComplete:"off",placeholder:"0.0",className:"no-arrows font-mono outline-none text-md bg-depth-1",id:"from",type:"number"})]}),Object(w.jsx)("div",{className:"flex-1",children:Object(w.jsx)(pe.a,{id:"from",value:s,onChange:function(e){return K(e,o)},styles:ve,theme:me,options:[g[0]]})})]}),Object(w.jsx)("div",{className:"my-4 text-primary flex justify-center",children:Object(w.jsx)(A.a,{className:"opacity-40 text-lg",icon:T.a})}),Object(w.jsxs)("div",{className:"rounded-2xl border border-depth-2 py-4 px-6 flex justify-between items-end",children:[Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{className:"text-depth-1 uppercase text-sm mb-2",children:"To"}),Object(w.jsx)("input",{autoComplete:"off",placeholder:"0.0",className:"no-arrows font-mono outline-none text-md bg-depth-1",id:"from",type:"number"})]}),Object(w.jsx)("div",{className:"flex-1",children:Object(w.jsx)(pe.a,{id:"to",value:p,onChange:function(e){return K(e,j)},styles:ve,theme:me,options:[g[1],g[2]]})})]}),Object(w.jsxs)("div",{className:"p-2 text-sm uppercase text-primary text-right",children:["max liquidity ",M]}),Object(w.jsxs)("button",{onClick:L,className:"my-4 w-full uppercase font-bold text-center bg-gradient-to-r from-primary to-secondary text-opposite rounded-md px-6 py-4 text-md shadow hover:text-default hover:disabled:text-opposite transition-color duration-150 ease-in disabled:opacity-20 disabled:cursor-not-allowed",children:["Swap ",Object(w.jsx)(A.a,{icon:T.c})]})]})})},xe=function(){var e=Object(r.useState)(!0),t=Object(l.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(null),s=Object(l.a)(a,2),o=s[0],f=s[1],b=Object(r.useState)(null),p=Object(l.a)(b,2),j=p[0],h=p[1],m=Object(be.g)().id,v=Object(be.f)(),O=Object(ee.b)(),x=Object(ee.c)((function(e){return e.markets.markets.find((function(e){return e.id===parseInt(m)}))}));Object(r.useEffect)((function(){Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(de(m));case 2:t=new d.c("6Cpt7EYmzUcHLBQzZuYNqnyKQKieofZXw6bpCWtmwZM1"),f(t),h(t),c(!1);case 6:case"end":return e.stop()}}),e)})))()}),[]);return Object(w.jsx)("div",{className:"flex justify-center items-center h-full",children:n?Object(w.jsx)(A.a,{className:"opacity-50 text-2xl",spin:!0,icon:T.d}):function(){if(x)return Object(w.jsx)(Oe,{serumMarkets:[o,j],market:x});v.push("/404")}()})},ye=function(){return Object(w.jsx)("div",{className:"text-2xl text-center",children:Object(w.jsxs)("p",{children:["Oops, ",Object(w.jsx)("span",{className:"font-bold text-primary",children:" 404 "})," Not Found"]})})},ge=function(){return Object(w.jsxs)(Q,{initialTheme:"light",children:[Object(w.jsx)(X.a,{children:Object(w.jsxs)("div",{className:"min-h-screen flex flex-col",children:[Object(w.jsx)($,{}),Object(w.jsx)("main",{className:"flex-1 flex justify-center",children:Object(w.jsx)("div",{className:"container my-10 w-full",children:Object(w.jsxs)(be.c,{children:[Object(w.jsx)(be.a,{exact:!0,path:"/",component:fe}),Object(w.jsx)(be.a,{exact:!0,path:"/market/:id",component:xe}),Object(w.jsx)(be.a,{component:ye})]})})})]})}),Object(w.jsx)(K.a,{})]})};var we=function(){return Object(w.jsx)(ge,{})},ke=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,289)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))},Ne=n(46),Se=n(156),Ee=n(157),Ce={markets:[],filters:[]};var Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce:return Object(je.a)(Object(je.a)({},e),{},{markets:t.payload.markets,filters:t.payload.filters});case ae:return Object(je.a)(Object(je.a)({},e),{},{markets:t.payload?[].concat(Object(j.a)(e.markets.filter((function(e){return e.id!==t.payload.id}))),[t.payload]):e.markets});default:return e}},Ie=Object(Ne.combineReducers)({markets:Me}),Ke=Object(Ne.createStore)(Ie,Object(Se.composeWithDevTools)(Object(Ne.applyMiddleware)(Ee.a)));s.a.render(Object(w.jsx)(c.a.StrictMode,{children:Object(w.jsx)(ee.a,{store:Ke,children:Object(w.jsx)(S,{children:Object(w.jsx)(Z,{children:Object(w.jsx)(we,{})})})})}),document.getElementById("root")),ke()}},[[288,1,2]]]);
//# sourceMappingURL=main.1388f16a.chunk.js.map